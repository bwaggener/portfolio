---
title: "Portfolio 2"
---



```{r load-packages, message=FALSE}
library(tidyverse) 
library(tidyr)

```

This repeats what I did in portfolio 1.

```{r getting_cleaneddata}
ideal_society <- read.csv("C:\\Users\\Ben\\OneDrive\\Documents\\01Wake Forest\\2025SpringDataScience\\IdealSocietyData\\RRRPILOT_IdealSocietiesConservative Values_February 10, 2025_07.27.csv")

ideal_society$StartDate <- as.POSIXct(ideal_society$StartDate, format="%Y-%m-%d %H:%M:%S", tz="UTC")
```

```{r gettingdata2}

ideal_society_real_data <- ideal_society %>%
  filter(as.Date(StartDate)=="2025-01-28") %>%
  filter(Progress != 14)

ideal_society_clean <- ideal_society_real_data %>%
  filter(Q127 != 5)

```

Now I need to add political orientaiton data

```{r screams}
politicalorientation_data <- read.csv("C:\\Users\\Ben\\OneDrive\\Documents\\01Wake Forest\\2025SpringDataScience\\IdealSocietyData\\CopyMergefile.csv")

ideal_society_clean <- ideal_society_clean %>%
  left_join(politicalorientation_data, by = "PROLIFIC_PID")
  


```
  
 
```{r renamingpoli}
ideal_society_clean <- ideal_society_clean %>%
  rename (poli_ori = PROLIFIC_Political.spectrum..us.)

```

```{r renamingsocieties}

ideal_society_clean <- ideal_society_clean %>%
  rename(LILH = Q7) %>%
  rename(LIHH = Q4) %>%
  rename(HILH = Q6) %>%
  rename(HIHH = Q5) %>%
  rename(LTLH = Q8) %>%
  rename(LTHH = Q124) %>%
  rename(HTLH = Q125) %>%
  rename(HTHH = Q126) %>%
  rename(LRLH = Q137) %>%
  rename(LRHH = Q139) %>%
  rename(HRLH = Q140) %>%
  rename(HRHH = Q141)

```

```{r means_se}

ideal_society_clean$LTLH <- as.numeric(as.character(ideal_society_clean$LTLH))
ideal_society_clean$LTHH <- as.numeric(as.character(ideal_society_clean$LTHH))


means_and_se <-ideal_society_clean %>%
  group_by(poli_ori) %>%
  summarize(
    LTLH_mean = mean(LTLH),
    LTHH_mean = mean(LTHH),
    LTLH_se = sd(LTLH) / sqrt(n()),
    LTHH_se = sd(LTHH) / sqrt(n())
  )

```

```{r plotting}


```


``{r widetolong}
# Reshape the data
long_data <- means_and_se %>%
  pivot_longer(cols = c(LTLH_mean, LTHH_mean, LTLH_se, LTHH_se), 
               names_to = c("variable", "stat"), 
               names_pattern = "(.*)_(.*)", 
               values_to = "value")

```

``{r plotting}
ggplot(long_data %>% filter(stat == "mean"), aes(x = variable, y = value, color = poli_ori, group = poli_ori)) +
  geom_point(size = 3) +
  geom_line() +
  labs(y = "Mean Score", x = "Variables") +
  theme_minimal() +
  scale_x_discrete(labels = c("LTLH", "LTHH"))  # Custom labels for x-axis



```